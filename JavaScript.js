
A = ["Pho", "Misg M", "G09", "Cerv"]
B = ["Vets", "Nomads", "Dim M", "Sox", "Pent"]
W = ["Misg W", "TB", "FB", "Dim W"]
isa = {
    teams : {},
    games: [
        { "homeTeam": "Pho", "awayTeam": "Misg M", "date": "03/03/2025", "time": "20:30", "location": "BV", "homeTeamScore": 0, "awayTeamScore": 0 },
        { "homeTeam": "Cerv", "awayTeam": "G09", "date": "04/03/2025", "time": "20:30", "location": "BV", "homeTeamScore": 1, "awayTeamScore": 2 },
        { "homeTeam": "Vets", "awayTeam": "Cerv", "date": "10/03/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pho", "awayTeam": "Nomads", "date": "10/03/2025", "time": "20:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pent", "awayTeam": "Dim M", "date": "11/03/2025", "time": "20:40", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "G09", "awayTeam": "Sox", "date": "12/03/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pent", "awayTeam": "Cerv", "date": "17/03/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg M", "awayTeam": "Dim M", "date": "18/03/2025", "time": "20:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pho", "awayTeam": "Vets", "date": "18/03/2025", "time": "20:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Nomads", "awayTeam": "G09", "date": "21/03/2025", "time": "10:00", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim M", "awayTeam": "Sox", "date": "23/03/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim W", "awayTeam": "TB", "date": "24/03/2025", "time": "19:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pent", "awayTeam": "Vets", "date": "24/03/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg M", "awayTeam": "Cerv", "date": "25/03/2025", "time": "20:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "G09", "awayTeam": "Pho", "date": "25/03/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Nomads", "awayTeam": "Pent", "date": "28/03/2025", "time": "10:00", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim W", "awayTeam": "FB", "date": "30/03/2025", "time": "19:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Cerv", "awayTeam": "Pho", "date": "31/03/2025", "time": "21:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim M", "awayTeam": "Vets", "date": "31/03/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "FB", "awayTeam": "Misg W", "date": "02/04/2025", "time": "19:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Nomads", "awayTeam": "Sox", "date": "04/04/2025", "time": "09:00", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Sox", "awayTeam": "Nomads", "date": "04/04/2025", "time": "11:00", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "G09", "awayTeam": "Misg M", "date": "05/04/2025", "time": "18:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "TB", "awayTeam": "Misg W", "date": "07/04/2025", "time": "19:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Sox", "awayTeam": "Cerv", "date": "07/04/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim M", "awayTeam": "Pho", "date": "08/04/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg M", "awayTeam": "Pent", "date": "08/04/2025", "time": "20:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "FB", "awayTeam": "Dim W", "date": "08/04/2025", "time": "19:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "G09", "awayTeam": "Vets", "date": "10/04/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pho", "awayTeam": "Cerv", "date": "11/04/2025", "time": "10:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim W", "awayTeam": "Misg W", "date": "15/04/2025", "time": "19:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim M", "awayTeam": "G09", "date": "16/04/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg M", "awayTeam": "Pho", "date": "21/04/2025", "time": "20:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Sox", "awayTeam": "Pent", "date": "21/04/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Vets", "awayTeam": "Nomads", "date": "22/04/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Cerv", "awayTeam": "G09", "date": "22/04/2025", "time": "20:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg W", "awayTeam": "Dim W", "date": "25/04/2025", "time": "10:00", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim W", "awayTeam": "Misg W", "date": "25/04/2025", "time": "12:00", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "TB", "awayTeam": "FB", "date": "25/04/2025", "time": "10:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "FB", "awayTeam": "TB", "date": "25/04/2025", "time": "12:00", "location": "BV", "homeTeamScore": "-" , "awayTeamScore": "-" },
        { "homeTeam": "Pent", "awayTeam": "Pho", "date": "25/04/2025", "time": "10:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Vets", "awayTeam": "Misg M", "date": "27/04/2025", "time": "18:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Sox", "awayTeam": "Misg M", "date": "27/04/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Cerv", "awayTeam": "Dim M", "date": "28/04/2025", "time": "20:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "G09", "awayTeam": "Pent", "date": "28/04/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Nomads", "awayTeam": "Dim M", "date": "02/05/2025", "time": "10:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-"  },
        { "homeTeam": "Dim M", "awayTeam": "Nomads", "date": "02/05/2025", "time": "12:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Sox", "awayTeam": "Vets", "date": "04/05/2025", "time": "10:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Cerv", "awayTeam": "Misg M", "date": "05/05/2025", "time": "20:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg W", "awayTeam": "TB", "date": "05/05/2025", "time": "19:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pho", "awayTeam": "G09", "date": "06/05/2025", "time": "20:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Cerv", "awayTeam": "Nomads", "date": "07/05/2025", "time": "20:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "FB", "awayTeam": "Misg W", "date": "09/05/2025", "time": "10:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg W", "awayTeam": "FB", "date": "09/05/2025", "time": "12:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim W", "awayTeam": "TB", "date": "09/05/2025", "time": "09:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "TB", "awayTeam": "Dim W", "date": "09/05/2025", "time": "11:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "G09", "awayTeam": "Misg M", "date": "10/05/2025", "time": "18:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Nomads", "awayTeam": "Vets", "date": "12/05/2025", "time": "20:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim M", "awayTeam": "Pent", "date": "12/05/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg M", "awayTeam": "Pho", "date": "13/05/2025", "time": "20:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "G09", "awayTeam": "Cerv", "date": "15/05/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Vets", "awayTeam": "Pent", "date": "16/05/2025", "time": "10:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pho", "awayTeam": "Sox", "date": "16/05/2025", "time": "10:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "FB", "awayTeam": "TB", "date": "19/05/2025", "time": "19:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Vets", "awayTeam": "Sox", "date": "19/05/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg W", "awayTeam": "Dim W", "date": "20/05/2025", "time": "19:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Nomads", "awayTeam": "Misg M", "date": "23/05/2025", "time": "12:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "TB", "awayTeam": "FB", "date": "26/05/2025", "time": "19:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Cerv", "awayTeam": "Pho", "date": "27/05/2025", "time": "21:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg M", "awayTeam": "G09", "date": "27/05/2025", "time": "20:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pent", "awayTeam": "Sox", "date": "28/05/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Sox", "awayTeam": "Dim M", "date": "03/06/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg M", "awayTeam": "Cerv", "date": "03/06/2025", "time": "20:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pent", "awayTeam": "Nomads", "date": "04/06/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Vets", "awayTeam": "Dim M", "date": "05/06/2025", "time": "20:30", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Pho", "awayTeam": "G09", "date": "06/06/2025", "time": "10:00", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg W", "awayTeam": "TB", "date": "06/06/2025", "time": "10:00", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "TB", "awayTeam": "Misg W", "date": "06/06/2025", "time": "12:00", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "FB", "awayTeam": "Dim W", "date": "06/06/2025", "time": "09:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Dim W", "awayTeam": "FB", "date": "06/06/2025", "time": "11:00", "location": "Gezer", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "TB", "awayTeam": "Dim W", "date": "09/06/2025", "time": "19:30", "location": "BV", "homeTeamScore": "-", "awayTeamScore": "-" },
        { "homeTeam": "Misg W", "awayTeam": "FB", "date": "10/06/2025", "time": "19:30", "location": "Maor", "homeTeamScore": "-", "awayTeamScore": "-" }
    ]

}
for (let team of A) {
    isa.teams[team] = {
        img: `/logos/${team}.png`,
        W: 0,
        D: 0,
        L: 0,
        RS: 0,
        RA:0
    }
}
for (let team of B) {
    isa.teams[team] = {
        img: `/logos/${team}.png`,
        W: 0,
        D: 0,
        L: 0,
        RS: 0,
        RA: 0
    }
}
for (let team of W) {
    isa.teams[team] = {
        img: `/logos/${team}.png`,
        W: 0,
        D: 0,
        L: 0,
        RS: 0,
        RA: 0
    }
}
for (let game of isa.games) {
    if (game.homeTeamScore != "-") {
        isa.teams[game.homeTeam].RS += game.homeTeamScore;
        isa.teams[game.homeTeam].RA += game.awayTeamScore;
        isa.teams[game.awayTeam].RA += game.homeTeamScore;
        isa.teams[game.awayTeam].RS += game.awayTeamScore;

        if (game.homeTeamScore > game.awayTeamScore) {
            isa.teams[game.homeTeam].W++;
            isa.teams[game.awayTeam].L++;
        }
        else if (game.homeTeamScore < game.awayTeamScore) {
            isa.teams[game.homeTeam].L++;
            isa.teams[game.awayTeam].W++;
        }
        else {
            isa.teams[game.homeTeam].D++;
            isa.teams[game.awayTeam].D++;
        }
    }
}
for (let team in isa.teams) {
    isa.teams[team].pct = (2 * isa.teams[team].W + isa.teams[team].D) / (2 * (isa.teams[team].W + isa.teams[team].L + isa.teams[team].D))
}
A.sort(function (a, b) { return isa.teams[b].pct - isa.teams[a].pct });
B.sort(function (a, b) { return isa.teams[b].pct - isa.teams[a].pct });
W.sort(function (a, b) { return isa.teams[b].pct - isa.teams[a].pct });
let a = document.getElementById("a");
let b = document.getElementById("b");
let w = document.getElementById("w");
let games = document.getElementById("games");
let title = document.getElementById("title");
createTables(A, a);
createTables(B, b);
createTables(W, w);

function createTables(Arr, table) {
    for (let i in Arr) {
        isa.teams[Arr[i]].gb = (
            ((isa.teams[Arr[0]].W + isa.teams[Arr[0]].D / 2) - (isa.teams[Arr[i]].W + isa.teams[Arr[i]].D / 2)) +
            ((isa.teams[Arr[i]].L + isa.teams[Arr[i]].D / 2) - (isa.teams[Arr[0]].L + isa.teams[Arr[0]].D / 2))
        ) / 2;

        let tr = document.createElement("tr");
        let team = document.createElement("td");

        // Add logo and team name in the same cell
        let logo = document.createElement("img"); // Create the image element
        logo.src = isa.teams[Arr[i]].img;
        logo.style.width = "30px";
        logo.style.height = "30px";
        logo.style.verticalAlign = "middle"; // Vertically align the logo

        team.style.gap = "10px"; // Add spacing between logo and name

        team.appendChild(logo); // Add the logo to the team cell
        team.appendChild(document.createTextNode(Arr[i])); // Add the team name next to the logo

        let W = document.createElement("td");
        let L = document.createElement("td");
        let D = document.createElement("td");
        let pct = document.createElement("td");
        let gb = document.createElement("td");
        let rs = document.createElement("td");
        let ra = document.createElement("td");
        W.innerHTML = isa.teams[Arr[i]].W;
        L.innerHTML = isa.teams[Arr[i]].L;
        D.innerHTML = isa.teams[Arr[i]].D;
        pct.innerHTML = isa.teams[Arr[i]].pct;
        gb.innerHTML = isa.teams[Arr[i]].gb;
        rs.innerHTML = isa.teams[Arr[i]].RS;
        ra.innerHTML = isa.teams[Arr[i]].RA;

        tr.appendChild(team);
        tr.appendChild(W);
        tr.appendChild(L);
        tr.appendChild(D);
        tr.appendChild(pct);
        tr.appendChild(gb);
        tr.appendChild(rs);
        tr.appendChild(ra);
        tr.onclick = function () {
            games.innerHTML = "";
            title.innerHTML = Arr[i] + " Schedule";
            isa.games.forEach(game => {
                if (game.homeTeam == Arr[i] || game.awayTeam == Arr[i]) { 
                    const gameElement = createGameElement(game);
                    games.appendChild(gameElement);
                }
            });
        }
        table.appendChild(tr);
    }
}
function createGameElement(game) {
    // Create the container div
    const gameDiv = document.createElement("div");
    gameDiv.classList.add("game");

    const homeTeamDiv = document.createElement("div");
    homeTeamDiv.classList.add("team", "home");

    const homeTeamImg = document.createElement("img");
    homeTeamImg.src = isa.teams[game.homeTeam].img; 

    const homeTeamName = document.createElement("h3");
    homeTeamName.textContent = game.homeTeam;

    homeTeamDiv.appendChild(homeTeamImg);
    homeTeamDiv.appendChild(homeTeamName);

    // Create the score div
    const scoreDiv = document.createElement("div");
    scoreDiv.classList.add("score");

    const scoreHeading = document.createElement("h2");
    if (game.homeTeamScore == "-") { scoreHeading.textContent = "-"; }
    else { scoreHeading.textContent = `${game.homeTeamScore} - ${game.awayTeamScore}`;}

    const scoreDetails = document.createElement("p");
    scoreDetails.classList.add("details");
    scoreDetails.textContent = `Date: ${game.date}, Location: ${game.location}`;

    scoreDiv.appendChild(scoreHeading);
    scoreDiv.appendChild(scoreDetails);

    const awayTeamDiv = document.createElement("div");
    awayTeamDiv.classList.add("team", "away");

    const awayTeamImg = document.createElement("img");
    awayTeamImg.src = isa.teams[game.awayTeam].img; 

    const awayTeamName = document.createElement("h3");
    awayTeamName.textContent = game.awayTeam;

    awayTeamDiv.appendChild(awayTeamImg);
    awayTeamDiv.appendChild(awayTeamName);

    gameDiv.appendChild(homeTeamDiv);
    gameDiv.appendChild(scoreDiv);
    gameDiv.appendChild(awayTeamDiv);

    return gameDiv;
}


